<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8"></meta>
		<title> Elastic Collision </title>
		<link rel="stylesheet" href="styles.css">
		<script type="text/javascript" src="Ball.js"></script>
		<script type="text/javascript" src="main.js"></script>
		<script type="text/javascript">
			var world;
			function updateBallViewer(context) {
				context.clearRect(0, 0, 200, 200);
				context.fillStyle = "#003E3E";
				context.beginPath();
				context.arc(200/2, 200/2, document.getElementById("rangeRadius").value, 0, 2*Math.PI);
				context.fill();
			}

			function onChangeRangeRadius(e) {
				document.getElementById("labelRadius").innerHTML = document.getElementById("rangeRadius").value;
				updateBallViewer(document.getElementById("canvasBallViewer").getContext("2d"));
			}

			function onChangeRangeMass(e) {
				document.getElementById("labelMass").innerHTML = document.getElementById("rangeMass").value;
			}

			window.addEventListener("load", function (event) {
				world = new World(document.getElementById("canvas"));
				document.getElementById("labelRadius").innerHTML = document.getElementById("rangeRadius").value;
				document.getElementById("labelMass").innerHTML = document.getElementById("rangeMass").value;
				
				updateBallViewer(document.getElementById("canvasBallViewer").getContext("2d"));
				setInterval(() => {
					world.tick();
					world.render();
				}, 10);
			});
		</script>
	</head>

	<body>
		<table>
			<tr>
				<td>
					<div id = "canvas">
						<!--<canvas id="canvas" width="300" height="300"></canvas>-->
					</div>
				</td>
				<td>
					<form>
						<table>
							<tr>
								<div>
									<canvas id="canvasBallViewer" width="200" height="200"></canvas>
								</div>
							</tr>
							<tr>
								<td>
									<div class="label">
										radius
									</div>
								</td>
								<td>
									<div>
										<input type="range" id="rangeRadius" name="rangeRadius" value="10" min="10" max="50" oninput="onChangeRangeRadius()"></input>
									</div>
								</td>
								<td>
									<div>
										<output id="labelRadius" name="labelRadius" value="10"></output> <br>
									</div>
								</td>
							</tr>
							<tr>
								<td>
									<div class="label">
										mass
									</div>
								</td>
								<td>
									<div>
										<input type="range" id="rangeMass" name="rangeMass" value="10" min="10" max="50" oninput="onChangeRangeMass()"></input>
									</div>
								</td>
								<td>
									<div>
										<output id="labelMass" name="labelMass" value="10"></output> <br>
									</div>
								</td>
							</tr>
							<tr>
								<td>
									<div>
										<input type="button" id="buttonClear" name="buttonClear" onclick="world.clearBalls()" value="clear"></input>
									</div>
								</td>
							</tr>
						</table>
					</form>
				</td>
			</tr>
		</table>
	</body>
</html>
